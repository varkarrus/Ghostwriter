<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test Undo Button</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        button { padding: 10px; margin: 5px; }
        .mobile-only { display: none; }
        @media (max-width: 768px) {
            .mobile-only { display: inline-block; }
        }
    </style>
</head>
<body>
    <h2>Testing Undo Button Functionality</h2>
    
    <div id="header">
        <button id="mobile-undo-btn" class="mobile-only" title="Undo last AI generation">Undo</button>
        <span>← Mobile Undo Button (only visible on mobile)</span>
    </div>
    
    <div>
        <button id="undo-generate-btn">Desktop Undo Generation</button>
        <span>← Desktop Undo Button</span>
    </div>
    
    <div>
        <button onclick="showUndoButtons()">Simulate AI Generation (Show Undo Buttons)</button>
        <button onclick="hideUndoButtons()">Hide Undo Buttons</button>
    </div>
    
    <p id="status">Ready</p>
    
    <script>
        const mobileUndoBtn = document.getElementById('mobile-undo-btn');
        const undoGenerateBtn = document.getElementById('undo-generate-btn');
        const status = document.getElementById('status');
        
        function setUndoButtonVisibility(visible) {
            if (visible) {
                undoGenerateBtn.classList.add('visible');
                undoGenerateBtn.style.display = 'inline-block';
                mobileUndoBtn.style.display = 'inline-block';
            } else {
                undoGenerateBtn.classList.remove('visible');
                undoGenerateBtn.style.display = 'none';
                mobileUndoBtn.style.display = 'none';
            }
        }
        
        function showUndoButtons() {
            setUndoButtonVisibility(true);
            status.textContent = 'Undo buttons are now visible';
        }
        
        function hideUndoButtons() {
            setUndoButtonVisibility(false);
            status.textContent = 'Undo buttons are now hidden';
        }
        
        function undoGeneration() {
            status.textContent = 'Undo function called!';
            setUndoButtonVisibility(false);
        }
        
        mobileUndoBtn.addEventListener('click', undoGeneration);
        undoGenerateBtn.addEventListener('click', undoGeneration);
        
        // Initialize with buttons hidden
        hideUndoButtons();
    </script>
</body>
</html>